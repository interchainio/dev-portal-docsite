"use strict";(self.webpackChunkdev_portal_docsite=self.webpackChunkdev_portal_docsite||[]).push([[99599],{15680:(e,n,a)=>{a.d(n,{xA:()=>d,yg:()=>m});var o=a(96540);function t(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function r(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,o)}return a}function i(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?r(Object(a),!0).forEach((function(n){t(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}function s(e,n){if(null==e)return{};var a,o,t=function(e,n){if(null==e)return{};var a,o,t={},r=Object.keys(e);for(o=0;o<r.length;o++)a=r[o],n.indexOf(a)>=0||(t[a]=e[a]);return t}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)a=r[o],n.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(t[a]=e[a])}return t}var l=o.createContext({}),p=function(e){var n=o.useContext(l),a=n;return e&&(a="function"==typeof e?e(n):i(i({},n),e)),a},d=function(e){var n=p(e.components);return o.createElement(l.Provider,{value:n},e.children)},g="mdxType",c={inlineCode:"code",wrapper:function(e){var n=e.children;return o.createElement(o.Fragment,{},n)}},u=o.forwardRef((function(e,n){var a=e.components,t=e.mdxType,r=e.originalType,l=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),g=p(a),u=t,m=g["".concat(l,".").concat(u)]||g[u]||c[u]||r;return a?o.createElement(m,i(i({ref:n},d),{},{components:a})):o.createElement(m,i({ref:n},d))}));function m(e,n){var a=arguments,t=n&&n.mdxType;if("string"==typeof e||t){var r=a.length,i=new Array(r);i[0]=u;var s={};for(var l in n)hasOwnProperty.call(n,l)&&(s[l]=n[l]);s.originalType=e,s[g]="string"==typeof e?e:t,i[1]=s;for(var p=2;p<r;p++)i[p]=a[p];return o.createElement.apply(null,i)}return o.createElement.apply(null,a)}u.displayName="MDXCreateElement"},28374:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>l,contentTitle:()=>i,default:()=>c,frontMatter:()=>r,metadata:()=>s,toc:()=>p});var o=a(58168),t=(a(96540),a(15680));const r={sidebar_position:1},i="Cosmos SDK Upgrade Guide: v0.50 \u2192 v0.52",s={unversionedId:"docs/build/building-apps/upgrades/0.52",id:"docs/build/building-apps/upgrades/0.52",title:"Cosmos SDK Upgrade Guide: v0.50 \u2192 v0.52",description:"Below is a high-level guide on how to upgrade your chain from Cosmos SDK v0.50 to v0.52. This tutorial will walk you through each major change, why it matters, and how to update your code base. Please note that every chain is different, and you may not need to apply every step below.",source:"@site/cosmos-sdk/docs/build/building-apps/upgrades/0.52.md",sourceDirName:"docs/build/building-apps/upgrades",slug:"/docs/build/building-apps/upgrades/0.52",permalink:"/dev-portal-docsite/cosmos-sdk/next/docs/build/building-apps/upgrades/0.52",draft:!1,tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"buildSidebar",previous:{title:"Build",permalink:"/dev-portal-docsite/cosmos-sdk/next/docs/build/"},next:{title:"What is runtime?",permalink:"/dev-portal-docsite/cosmos-sdk/next/docs/build/building-apps/runtime"}},l={},p=[{value:"Table of Contents",id:"table-of-contents",level:2},{value:"Prerequisites",id:"prerequisites",level:2},{value:"Important Changes Overview",id:"important-changes-overview",level:2},{value:"Step-by-Step Upgrade Guide",id:"step-by-step-upgrade-guide",level:2},{value:"Remove <code>x/params</code>",id:"remove-xparams",level:3},{value:"Update <code>root.go</code> / Client Wiring",id:"update-rootgo--client-wiring",level:3},{value:"Update app.go / Server Wiring",id:"update-appgo--server-wiring",level:3},{value:"Module Manager",id:"module-manager",level:4},{value:"gRPC-Web",id:"grpc-web",level:4},{value:"Enable (or Skip) gRPC-Web Support",id:"enable-or-skip-grpc-web-support",level:3},{value:"Remove GasConsumptionDecorator and IncreaseSequenceDecorator",id:"remove-gasconsumptiondecorator-and-increasesequencedecorator",level:3},{value:"Unordered Transactions",id:"unordered-transactions",level:3},{value:"Handle Sign Mode Textual",id:"handle-sign-mode-textual",level:3},{value:"Update Depinject app_config.go / app.yml if Applicable",id:"update-depinject-app_configgo--appyml-if-applicable",level:3},{value:"Protobuf Changes",id:"protobuf-changes",level:3},{value:"Refactor Module Imports to cosmossdk.io/x/",id:"refactor-module-imports-to-cosmossdkiox",level:3},{value:"Adopt Core API Interfaces",id:"adopt-core-api-interfaces",level:3},{value:"Interface Registry",id:"interface-registry",level:4},{value:"Amino Codec Registry",id:"amino-codec-registry",level:4},{value:"Simulation Changes",id:"simulation-changes",level:3},{value:"Depinject: Update Usage of Invoke, Provide, Register \u2192 appconfig",id:"depinject-update-usage-of-invoke-provide-register--appconfig",level:3},{value:"Genesis Interfaces Updated",id:"genesis-interfaces-updated",level:3},{value:"Migration to Collections",id:"migration-to-collections",level:3},{value:"Vesting Accounts Removal in x/auth",id:"vesting-accounts-removal-in-xauth",level:3},{value:"Introducing x/accounts AccountNumber",id:"introducing-xaccounts-accountnumber",level:3},{value:"TX Decoder Setup for x/accounts",id:"tx-decoder-setup-for-xaccounts",level:3},{value:"Remove x/crisis",id:"remove-xcrisis",level:3},{value:"Add x/protocolpool if Using x/distribution",id:"add-xprotocolpool-if-using-xdistribution",level:3},{value:"Proposal Handler Changes in x/gov",id:"proposal-handler-changes-in-xgov",level:3},{value:"Mint Function Updates in x/mint",id:"mint-function-updates-in-xmint",level:3},{value:"Add x/validate",id:"add-xvalidate",level:3},{value:"Remove AppmoduleBasic",id:"remove-appmodulebasic",level:3},{value:"Preparing the Upgrade Handler (On-Chain)",id:"preparing-the-upgrade-handler-on-chain",level:2},{value:"Testing &amp; Verifying the Upgrade",id:"testing--verifying-the-upgrade",level:2},{value:"Conclusion",id:"conclusion",level:2}],d={toc:p},g="wrapper";function c(e){let{components:n,...a}=e;return(0,t.yg)(g,(0,o.A)({},d,a,{components:n,mdxType:"MDXLayout"}),(0,t.yg)("h1",{id:"cosmos-sdk-upgrade-guide-v050--v052"},"Cosmos SDK Upgrade Guide: v0.50 \u2192 v0.52"),(0,t.yg)("p",null,"Below is a high-level guide on how to upgrade your chain from Cosmos SDK ",(0,t.yg)("strong",{parentName:"p"},"v0.50")," to ",(0,t.yg)("strong",{parentName:"p"},"v0.52"),". This tutorial will walk you through each major change, why it matters, and how to update your code base. Please note that every chain is different, and you may not need to apply every step below."),(0,t.yg)("p",null,"Note: ",(0,t.yg)("strong",{parentName:"p"},"v0.52")," relies on ",(0,t.yg)("a",{parentName:"p",href:"https://https://github.com/cometbft/cometbft/releases/tag/v1.0.0"},"Comet v1")),(0,t.yg)("hr",null),(0,t.yg)("h2",{id:"table-of-contents"},"Table of Contents"),(0,t.yg)("ol",null,(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("a",{parentName:"li",href:"#prerequisites"},"Prerequisites")),(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("a",{parentName:"li",href:"#important-changes-overview"},"Important Changes Overview")),(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("a",{parentName:"li",href:"#step-by-step-upgrade-guide"},"Step-by-Step Upgrade Guide"),(0,t.yg)("ol",{parentName:"li"},(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("a",{parentName:"li",href:"#remove-xparams"},"Remove ",(0,t.yg)("inlineCode",{parentName:"a"},"x/params"))),(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("a",{parentName:"li",href:"#update-rootgo--client-wiring"},"Update ",(0,t.yg)("inlineCode",{parentName:"a"},"root.go")," / Client Wiring")),(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("a",{parentName:"li",href:"#update-appgo--server-wiring"},"Update ",(0,t.yg)("inlineCode",{parentName:"a"},"app.go")," / Server Wiring"),(0,t.yg)("ol",{parentName:"li"},(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("a",{parentName:"li",href:"#module-manager"},"Module Manager")),(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("a",{parentName:"li",href:"#grpc-web"},"gRPC-Web")))),(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("a",{parentName:"li",href:"#enable-or-skip-grpc-web-support"},"Enable (or Skip) gRPC-Web Support")),(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("a",{parentName:"li",href:"#remove-gasconsumptiondecorator-and-increasesequencedecorator"},"Remove ",(0,t.yg)("inlineCode",{parentName:"a"},"GasConsumptionDecorator")," and ",(0,t.yg)("inlineCode",{parentName:"a"},"IncreaseSequenceDecorator"))),(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("a",{parentName:"li",href:"#unordered-transactions"},"Unordered Transactions")),(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("a",{parentName:"li",href:"#handle-sign-mode-textual"},"Handle Sign Mode Textual")),(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("a",{parentName:"li",href:"#update-depinject-app_configgo--appyml-if-applicable"},"Update Depinject ",(0,t.yg)("inlineCode",{parentName:"a"},"app_config.go")," / ",(0,t.yg)("inlineCode",{parentName:"a"},"app.yml")," if Applicable")),(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("a",{parentName:"li",href:"#protobuf-changes"},"Protobuf Changes")),(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("a",{parentName:"li",href:"#refactor-module-imports-to-cosmossdkiox"},"Refactor Module Imports to ",(0,t.yg)("inlineCode",{parentName:"a"},"cosmossdk.io/x/..."))),(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("a",{parentName:"li",href:"#adopt-core-api-interfaces"},"Adopt Core API Interfaces")),(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("a",{parentName:"li",href:"#simulation-changes"},"Simulation Changes")),(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("a",{parentName:"li",href:"#depinject-update-usage-of-invoke-provide-register--appconfig"},"Depinject: Update Usage of ",(0,t.yg)("inlineCode",{parentName:"a"},"Invoke"),", ",(0,t.yg)("inlineCode",{parentName:"a"},"Provide"),", ",(0,t.yg)("inlineCode",{parentName:"a"},"Register")," \u2192 ",(0,t.yg)("inlineCode",{parentName:"a"},"appconfig"))),(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("a",{parentName:"li",href:"#genesis-interfaces-updated"},"Genesis Interfaces Updated")),(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("a",{parentName:"li",href:"#migration-to-collections"},"Migration to Collections")),(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("a",{parentName:"li",href:"#vesting-accounts-removal-in-xauth"},"Vesting Accounts Removal in ",(0,t.yg)("inlineCode",{parentName:"a"},"x/auth"))),(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("a",{parentName:"li",href:"#introducing-xaccounts-accountnumber"},"Introducing ",(0,t.yg)("inlineCode",{parentName:"a"},"x/accounts")," AccountNumber")),(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("a",{parentName:"li",href:"#tx-decoder-setup-for-xaccounts"},"TX Decoder Setup for ",(0,t.yg)("inlineCode",{parentName:"a"},"x/accounts"))),(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("a",{parentName:"li",href:"#remove-xcrisis"},"Remove ",(0,t.yg)("inlineCode",{parentName:"a"},"x/crisis"))),(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("a",{parentName:"li",href:"#add-xprotocolpool-if-using-xdistribution"},"Add ",(0,t.yg)("inlineCode",{parentName:"a"},"x/protocolpool")," if Using ",(0,t.yg)("inlineCode",{parentName:"a"},"x/distribution"))),(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("a",{parentName:"li",href:"#proposal-handler-changes-in-xgov"},"Proposal Handler Changes in ",(0,t.yg)("inlineCode",{parentName:"a"},"x/gov"))),(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("a",{parentName:"li",href:"#mint-function-updates-in-xmint"},"Mint Function Updates in ",(0,t.yg)("inlineCode",{parentName:"a"},"x/mint"))),(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("a",{parentName:"li",href:"#add-xvalidate"},"Add ",(0,t.yg)("inlineCode",{parentName:"a"},"x/validate"))),(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("a",{parentName:"li",href:"#remove-appmodulebasic"},"Remove AppmoduleBasic")))),(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("a",{parentName:"li",href:"#preparing-the-upgrade-handler-on-chain"},"Preparing the Upgrade Handler (On-Chain)")),(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("a",{parentName:"li",href:"#testing--verifying-the-upgrade"},"Testing & Verifying the Upgrade")),(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("a",{parentName:"li",href:"#conclusion"},"Conclusion"))),(0,t.yg)("hr",null),(0,t.yg)("h2",{id:"prerequisites"},"Prerequisites"),(0,t.yg)("ul",null,(0,t.yg)("li",{parentName:"ul"},"You have already upgraded your chain to ",(0,t.yg)("strong",{parentName:"li"},"Cosmos SDK v0.50")," (as recommended in the official docs, all migrations up to v0.50 should be complete)."),(0,t.yg)("li",{parentName:"ul"},"Your chain code is managed in a repository (e.g., Git) and you are comfortable creating feature branches and pushing upgrades."),(0,t.yg)("li",{parentName:"ul"},"You have pinned down a plan or block height at which you want to upgrade (via ",(0,t.yg)("inlineCode",{parentName:"li"},"x/upgrade")," or manual chain restart)."),(0,t.yg)("li",{parentName:"ul"},"You have adequate test coverage and a test network (testnet/local environment) to validate the upgrade before rolling out to production.")),(0,t.yg)("hr",null),(0,t.yg)("h2",{id:"important-changes-overview"},"Important Changes Overview"),(0,t.yg)("ol",null,(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("strong",{parentName:"li"},(0,t.yg)("inlineCode",{parentName:"strong"},"x/params")," module removed")," \u2013 Must migrate any usage of ",(0,t.yg)("inlineCode",{parentName:"li"},"x/params")," to new module-managed parameters."),(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("strong",{parentName:"li"},"Simplified module manager")," \u2013 The \u201cbasic module manager\u201d is removed; use ",(0,t.yg)("inlineCode",{parentName:"li"},"module.Manager")," directly."),(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("strong",{parentName:"li"},"Server refactor")," \u2013 The ",(0,t.yg)("inlineCode",{parentName:"li"},"server/v2")," updates remove embedded gRPC-Web and unify startup commands."),(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("strong",{parentName:"li"},"Unordered Transactions")," \u2013 New feature that allows the chain to process transactions without a strict sequence."),(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("strong",{parentName:"li"},"gRPC-Web")," \u2013 ",(0,t.yg)("inlineCode",{parentName:"li"},"grpc-web")," is no longer embedded; set up a reverse proxy like Envoy if you need it."),(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("strong",{parentName:"li"},(0,t.yg)("inlineCode",{parentName:"strong"},"x/crisis")," removal")," \u2013 The crisis module is completely removed."),(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("strong",{parentName:"li"},(0,t.yg)("inlineCode",{parentName:"strong"},"x/validate"))," \u2013 A new module for default ante/post handlers if you want to rely on runtime."),(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("strong",{parentName:"li"},(0,t.yg)("inlineCode",{parentName:"strong"},"x/accounts"))," \u2013 Replaces vesting accounts and handles account numbering."),(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("strong",{parentName:"li"},"Protobuf changes")," \u2013 Updated location for ",(0,t.yg)("inlineCode",{parentName:"li"},"Any"),", removal of ",(0,t.yg)("inlineCode",{parentName:"li"},"cosmossdk.io/api/tendermint"),"."),(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("strong",{parentName:"li"},"All modules except ",(0,t.yg)("inlineCode",{parentName:"strong"},"auth")," split off")," \u2013 Modules now import from ",(0,t.yg)("inlineCode",{parentName:"li"},"cosmossdk.io/x/..."),"."),(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("strong",{parentName:"li"},"Genesis & ADR-070")," \u2013 Constructors now take ",(0,t.yg)("inlineCode",{parentName:"li"},"context.Context")," and do not pass around a codec."),(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("strong",{parentName:"li"},"Migration to Collections")," \u2013 Some modules adopt ",(0,t.yg)("inlineCode",{parentName:"li"},"collections.ErrNotFound"),"; check for usage changes."),(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("strong",{parentName:"li"},"Other refactors")," \u2013 AnteHandlers, textual sign modes, plus smaller naming changes in the simulation framework.")),(0,t.yg)("hr",null),(0,t.yg)("h2",{id:"step-by-step-upgrade-guide"},"Step-by-Step Upgrade Guide"),(0,t.yg)("p",null,"Below, you can follow along as though you maintain an application called ",(0,t.yg)("inlineCode",{parentName:"p"},"MyApp"),". Adapt these steps for your own chain."),(0,t.yg)("h3",{id:"remove-xparams"},"Remove ",(0,t.yg)("inlineCode",{parentName:"h3"},"x/params")),(0,t.yg)("p",null,"The Cosmos SDK removed ",(0,t.yg)("inlineCode",{parentName:"p"},"x/params"),". In 0.52, parameters must live in their respective modules (module-managed params)."),(0,t.yg)("ul",null,(0,t.yg)("li",{parentName:"ul"},"Remove all references to ",(0,t.yg)("inlineCode",{parentName:"li"},"x/params")," from your code:"),(0,t.yg)("li",{parentName:"ul"},"Delete any keepers, references, or param-store usage referencing ",(0,t.yg)("inlineCode",{parentName:"li"},"paramsKeeper"),"."),(0,t.yg)("li",{parentName:"ul"},"For each module using ",(0,t.yg)("inlineCode",{parentName:"li"},"x/params"),", replace it with the new approach of storing parameters via that module\u2019s param structure or via ",(0,t.yg)("inlineCode",{parentName:"li"},"cosmossdk.io/core/appmodule"),"."),(0,t.yg)("li",{parentName:"ul"},"If you have custom modules using ",(0,t.yg)("inlineCode",{parentName:"li"},"params"),", see the ",(0,t.yg)("a",{parentName:"li",href:"https://github.com/cosmos/cosmos-sdk/blob/828fcf2f05db0c4759ed370852b6dacc589ea472/x/mint/migrations/v2/migrate.go"},"migration reference")," for how to adapt to module-managed parameters.")),(0,t.yg)("h3",{id:"update-rootgo--client-wiring"},"Update ",(0,t.yg)("inlineCode",{parentName:"h3"},"root.go")," / Client Wiring"),(0,t.yg)("p",null,"The ",(0,t.yg)("inlineCode",{parentName:"p"},"client")," package no longer relies on a global bech32 config and uses address codecs and address prefixes via ",(0,t.yg)("inlineCode",{parentName:"p"},"client.Context"),". This is inline with moving away from the concept of globals in the software. "),(0,t.yg)("p",null,"In ",(0,t.yg)("inlineCode",{parentName:"p"},"cmd/myappd/root.go")," (or ",(0,t.yg)("inlineCode",{parentName:"p"},"root_di.go")," if using depinject), ensure you set the address and validator prefixes:"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-diff"},'clientCtx = clientCtx.\n+ WithAddressCodec(addressCodec).\n+ WithValidatorAddressCodec(validatorAddressCodec).\n+ WithConsensusAddressCodec(consensusAddressCodec).\n+ WithAddressPrefix("cosmos").\n+ WithValidatorPrefix("cosmosvaloper")\n')),(0,t.yg)("p",null,"Additionally, the start command changed slightly:"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-diff"},"- server.AddCommands(rootCmd, newApp, func(startCmd *cobra.Command) {})\n+ server.AddCommands(rootCmd, newApp, server.StartCmdOptions[servertypes.Application]{})\n")),(0,t.yg)("h3",{id:"update-appgo--server-wiring"},"Update app.go / Server Wiring"),(0,t.yg)("h4",{id:"module-manager"},"Module Manager"),(0,t.yg)("p",null,(0,t.yg)("strong",{parentName:"p"},"What changed"),"\n\u2022\tThe \u201cbasic module manager\u201d is removed. You should directly use module.Manager."),(0,t.yg)("p",null,(0,t.yg)("strong",{parentName:"p"},"Action"),"\n\u2022\tRemove references to the BasicModuleManager or \u201cbasic module manager\u201d in your app.go.\n\u2022\tInstead, invoke RegisterLegacyAminoCodec and RegisterInterfaces on app.ModuleManager."),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-diff"},"-app.BasicModuleManager = module.NewBasicManagerFromManager(...)\n-app.BasicModuleManager.RegisterLegacyAminoCodec(legacyAmino)\n-app.BasicModuleManager.RegisterInterfaces(interfaceRegistry)\n+app.ModuleManager.RegisterLegacyAminoCodec(legacyAmino)\n+app.ModuleManager.RegisterInterfaces(interfaceRegistry)\n")),(0,t.yg)("h4",{id:"grpc-web"},"gRPC-Web"),(0,t.yg)("p",null,"The embedding of gRPC-Web was removed. if you would like to continue using gRPC-Web you will need to use ",(0,t.yg)("a",{parentName:"p",href:"https://www.envoyproxy.io/"},"Envoy")),(0,t.yg)("h3",{id:"enable-or-skip-grpc-web-support"},"Enable (or Skip) gRPC-Web Support"),(0,t.yg)("p",null,"If you need gRPC-Web, follow the sample envoy.yaml config in the changelog snippet. Otherwise, you can skip this step."),(0,t.yg)("h3",{id:"remove-gasconsumptiondecorator-and-increasesequencedecorator"},"Remove GasConsumptionDecorator and IncreaseSequenceDecorator"),(0,t.yg)("p",null,"The GasDecorator and Sequence decorator were merged into the SigVerificationDecorator. This change reduces the gas consumed by transactions. "),(0,t.yg)("h3",{id:"unordered-transactions"},"Unordered Transactions"),(0,t.yg)("p",null,"v0.52 introduces unordered transactions, this feature allows transcations to not need sequence numbers and has its own replay protection system. "),(0,t.yg)("ul",null,(0,t.yg)("li",{parentName:"ul"},"Important: This is optional.")),(0,t.yg)("p",null,"Depinject / servertypes.AppOptions: Supply the appOpts to enable it automatically:"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-go"},"depinject.Supply(\n    appOpts,\n    logger,\n)\n")),(0,t.yg)("p",null,"Legacy wiring: If you do want unordered transactions but are not using depinject, see the \u201cStep-by-step wiring\u201d block from the changelog:"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre"},"1.  Create and start unorderedtx.NewManager in your App constructor.\n2.  Add ante.NewUnorderedTxDecorator(...) near the start of your AnteHandler chain.\n3.  Register a Snapshotter if using snapshots.\n4.  Call app.UnorderedTxManager.OnNewBlock() in your PreBlocker().\n5.  Close the manager in app.Close().\n")),(0,t.yg)("h3",{id:"handle-sign-mode-textual"},"Handle Sign Mode Textual"),(0,t.yg)("p",null,"With the split of x/auth/tx/config in two (",(0,t.yg)("inlineCode",{parentName:"p"},"x/auth/tx/config")," as depinject module for txconfig and tx options) and ",(0,t.yg)("inlineCode",{parentName:"p"},"x/validate"),", sign mode textual is no more automatically configured when using runtime (it was previously the case). For the same instructions than for legacy app wiring to enable sign mode textual (see in v0.50 UPGRADING documentation)."),(0,t.yg)("h3",{id:"update-depinject-app_configgo--appyml-if-applicable"},"Update Depinject app_config.go / app.yml if Applicable"),(0,t.yg)("p",null,"With the introduction of environment in modules, depinject automatically creates the environment for all modules. Learn more about environment here . Given the fields of environment, this means runtime creates a kv store service for all modules by default. It can happen that some modules do not have a store necessary (such as x/auth/tx for instance). In this case, the store creation should be skipped in app_config.go:"),(0,t.yg)("ul",null,(0,t.yg)("li",{parentName:"ul"},"In your app_config.go (or app.yml), if you have modules like x/auth/tx that do not need a KV store, skip them:")),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-diff"},'InitGenesis: []string{\n    "..."\n},\n+ // SkipStoreKeys is an optional list of store keys to skip when constructing the\n+ // module\'s keeper. This is useful when a module does not have a store key.\n+ SkipStoreKeys: []string{\n+   "tx",\n+ },\n')),(0,t.yg)("h3",{id:"protobuf-changes"},"Protobuf Changes"),(0,t.yg)("p",null,"The cosmossdk.io/api/tendermint package has been removed as CometBFT now publishes its protos to buf.build/tendermint and buf.build/cometbft"),(0,t.yg)("p",null,"The codectypes.Any has moved to github.com/cosmos/gogoproto/types/any. Module developers need to update the buf.gen.gogo.yaml configuration files by adjusting the corresponding opt option to Mgoogle/protobuf/any.proto=github.com/cosmos/gogoproto/types/any for directly mapping theAny type to its new location:"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-diff"},"version: v1\nplugins:\n  - name: gocosmos\n    out: ..\n-    opt: plugins=grpc,Mgoogle/protobuf/any.proto=github.com/cosmos/cosmos-sdk/codec/types,Mcosmos/orm/v1/orm.proto=cosmossdk.io/orm\n+    opt: plugins=grpc,Mgoogle/protobuf/any.proto=github.com/cosmos/gogoproto/types/any,Mcosmos/orm/v1/orm.proto=cosmossdk.io/orm\n  - name: grpc-gateway\n    out: ..\n    opt: logtostderr=true,allow_colon_final_segments=true\n\n")),(0,t.yg)("ul",null,(0,t.yg)("li",{parentName:"ul"},"Replace any usage of AnyUnpacker and UnpackInterfacesMessage from cosmos/cosmos-sdk/codec/types with the equivalents in github.com/cosmos/gogoproto/types/any.")),(0,t.yg)("h3",{id:"refactor-module-imports-to-cosmossdkiox"},"Refactor Module Imports to cosmossdk.io/x/"),(0,t.yg)("p",null,"All modules except auth have been split into their own go.mod and are imported via ",(0,t.yg)("inlineCode",{parentName:"p"},"cosmossdk.io/x/<mod>"),"."),(0,t.yg)("ul",null,(0,t.yg)("li",{parentName:"ul"},"Replace import paths from github.com/cosmos/cosmos-sdk/x/{moduleName} to cosmossdk.io/x/{moduleName}."),(0,t.yg)("li",{parentName:"ul"},"Example:")),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-diff"},'- import govtypes "github.com/cosmos/cosmos-sdk/x/gov/types"\n+ import govtypes "cosmossdk.io/x/gov/types"\n')),(0,t.yg)("h3",{id:"adopt-core-api-interfaces"},"Adopt Core API Interfaces"),(0,t.yg)("p",null,"Core API has been introduced for modules since v0.47. With the deprecation of ",(0,t.yg)("inlineCode",{parentName:"p"},"sdk.Context"),", we strongly recommend to use the cosmossdk.io/core/appmodule interfaces for the modules. This will allow the modules to work out of the box with server/v2 and baseapp, as well as limit their dependencies on the SDK."),(0,t.yg)("p",null,"Additionally, the ",(0,t.yg)("inlineCode",{parentName:"p"},"appmodule.Environment")," struct is introduced to fetch different services from the application. This should be used as an alternative to using ",(0,t.yg)("inlineCode",{parentName:"p"},"sdk.UnwrapContext(ctx)")," to fetch the services. It needs to be passed into a module at instantiation (or depinject will inject the correct environment)."),(0,t.yg)("p",null,"Example: "),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-go"},'app.CircuitKeeper = circuitkeeper.NewKeeper(runtime.NewEnvironment(runtime.NewKVStoreService(keys[circuittypes.StoreKey]), logger.With(log.ModuleKey, "x/circuit")), appCodec, authtypes.NewModuleAddress(govtypes.ModuleName).String(), app.AuthKeeper.AddressCodec())\n')),(0,t.yg)("h4",{id:"interface-registry"},"Interface Registry"),(0,t.yg)("ul",null,(0,t.yg)("li",{parentName:"ul"},"Replace codec.InterfaceRegistry usage in the HasRegisterInterfaces function with cosmossdk.io/core/registry.InterfaceRegistrar. Same for Amino with cosmossdk.io/core/registry.AminoRegistrar."),(0,t.yg)("li",{parentName:"ul"},"Example:")),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-diff"},"-func (AppModule) RegisterInterfaces(registry codectypes.InterfaceRegistry) {\n+func (AppModule) RegisterInterfaces(registry registry.InterfaceRegistrar) {\n")),(0,t.yg)("h4",{id:"amino-codec-registry"},"Amino Codec Registry"),(0,t.yg)("ul",null,(0,t.yg)("li",{parentName:"ul"},"Replace codec.LegacyAmino usage in the HasAminoCodec function with cosmossdk.io/core/registry.AminoRegistrar."),(0,t.yg)("li",{parentName:"ul"},"Example:")),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-diff"},"-func (AppModule) RegisterLegacyAminoCodec(cdc *codec.LegacyAmino) {\n+func (AppModule) RegisterLegacyAminoCodec(registrar registry.AminoRegistrar) {\n")),(0,t.yg)("h3",{id:"simulation-changes"},"Simulation Changes"),(0,t.yg)("ul",null,(0,t.yg)("li",{parentName:"ul"},"MsgSimulatorFn now returns an error and no longer has sdk.Context; it instead passes in an address.Codec.",(0,t.yg)("ul",{parentName:"li"},(0,t.yg)("li",{parentName:"ul"},"Example:")))),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-diff"},"-type MsgSimulatorFn func(r *rand.Rand, ctx sdk.Context, accs []Account) sdk.Msg\n+type MsgSimulatorFn func(r *rand.Rand, accs []Account, cdc address.Codec) (sdk.Msg, error)\n")),(0,t.yg)("p",null,"The interface HasProposalMsgs has been renamed to HasLegacyProposalMsgs, as we've introduced a new simulation framework, simpler and easier to use, named ",(0,t.yg)("a",{parentName:"p",href:"https://github.com/cosmos/cosmos-sdk/tree/main/simsx"},"simsx"),"."),(0,t.yg)("h3",{id:"depinject-update-usage-of-invoke-provide-register--appconfig"},"Depinject: Update Usage of Invoke, Provide, Register \u2192 appconfig"),(0,t.yg)("p",null,"Previously cosmossdk.io/core/appconfig held functions Invoke, Provide and Register were moved to cosmossdk.io/depinject/appconfig. All modules using dependency injection must update their imports."),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-diff"},'import {\n- "cosmossdk.io/core/appconfig"\n+ "cosmossdk.io/depinject/appconfig"\n}\n')),(0,t.yg)("h3",{id:"genesis-interfaces-updated"},"Genesis Interfaces Updated"),(0,t.yg)("p",null,"The genesis interfaces in ",(0,t.yg)("inlineCode",{parentName:"p"},"x/{module_name}/module.go")," were modified to avoid Cosmos SDK dependencies."),(0,t.yg)("p",null,"Update your modules\u2019 InitGenesis / ExportGenesis to:"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-diff"},"- func (am AppModule) InitGenesis(ctx sdk.Context, cdc codec.JSONCodec, data json.RawMessage) {\n+ func (am AppModule) InitGenesis(ctx context.Context, data json.RawMessage) error {\n    // ...\n}\n- func (am AppModule) ExportGenesis(ctx sdk.Context, cdc codec.JSONCodec) json.RawMessage {\n+ func (am AppModule) ExportGenesis(ctx context.Context) (json.RawMessage, error) {\n    // ...\n}\n")),(0,t.yg)("h3",{id:"migration-to-collections"},"Migration to Collections"),(0,t.yg)("p",null,"Modules within the Cosmos SDK were migrated to use ",(0,t.yg)("a",{parentName:"p",href:"https://github.com/cosmos/cosmos-sdk/tree/main/collections"},"collections"),". It is not required to migrate your own modules, but it is recommended to use collections for future modules. "),(0,t.yg)("p",null,"Note: When migrating to collections, the previous logic for not found was returning nil with no error. When migrating collections will return ",(0,t.yg)("inlineCode",{parentName:"p"},"collections.ErrNotFound"),"."),(0,t.yg)("p",null,"Checking for the errors should follow: "),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-go"},"if err != nil {\n    if err == collections.ErrNotFound {\n        // handle not found\n    }\n    // handle other errors\n}\n")),(0,t.yg)("ul",null,(0,t.yg)("li",{parentName:"ul"},"If your module or code interacts with updated modules, watch for errors like ",(0,t.yg)("inlineCode",{parentName:"li"},"collections.ErrNotFound"),".")),(0,t.yg)("h3",{id:"vesting-accounts-removal-in-xauth"},"Vesting Accounts Removal in x/auth"),(0,t.yg)("p",null,"The vesting account message and CLI are removed. Existing vesting accounts remain, but you cannot create new ones."),(0,t.yg)("p",null,"In order to create new vesting accounts you need to add the accounts module to your chain. We provide vesting accounts by default which have similar logic to the previous vesting accounts. If you would like custom vesting accounts, they can be implemented in ",(0,t.yg)("inlineCode",{parentName:"p"},"x/accounts"),"."),(0,t.yg)("h3",{id:"introducing-xaccounts-accountnumber"},"Introducing x/accounts AccountNumber"),(0,t.yg)("p",null,(0,t.yg)("inlineCode",{parentName:"p"},"x/accounts")," uses its own account numbering (global) instead of ",(0,t.yg)("inlineCode",{parentName:"p"},"x/auth"),". The auth module will now use the ",(0,t.yg)("inlineCode",{parentName:"p"},"x/accounts")," account numbering."),(0,t.yg)("ul",null,(0,t.yg)("li",{parentName:"ul"},"In your upgrade handler, if you have existing accounts, you must migrate them:")),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-go"},'import authkeeper "github.com/cosmos/cosmos-sdk/x/auth/keeper"\n\nfunc MyUpgradeLogic(ctx sdk.Context) error {\n  err := authkeeper.MigrateAccountNumberUnsafe(ctx, &app.AuthKeeper)\n  if err != nil {\n    return err\n  }\n  return nil\n}\n')),(0,t.yg)("h3",{id:"tx-decoder-setup-for-xaccounts"},"TX Decoder Setup for x/accounts"),(0,t.yg)("p",null,"In order to support x/accounts, you need to initialize a TxDecoder."),(0,t.yg)("p",null,"In app.go:"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-go"},'import (\n    txdecode "cosmossdk.io/x/tx/decode"\n)\n\nfunc NewApp(...) *App {\n    // ...\n    txDecoder, err := txdecode.NewDecoder(txdecode.Options{\n        SigningContext: signingCtx,\n        ProtoCodec:     appCodec,\n    })\n    if err != nil {\n        panic(err)\n    }\n    // ...\n}\n')),(0,t.yg)("h3",{id:"remove-xcrisis"},"Remove x/crisis"),(0,t.yg)("p",null,"The x/crisis module was removed entirely and should removed from your application.  "),(0,t.yg)("ul",null,(0,t.yg)("li",{parentName:"ul"},"Remove code references to x/crisis from your application.")),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-go"},'        storeUpgrades := store.StoreUpgrades{\n            Deleted: []string{"crisis"}, // The SDK discontinued the crisis module in v0.52.0\n        }\n')),(0,t.yg)("h3",{id:"add-xprotocolpool-if-using-xdistribution"},"Add x/protocolpool if Using x/distribution"),(0,t.yg)("p",null,"The community pool was moved from distribution to a new module called protocolpool. This new module allows teams and the community to create funding opportunities fot the development team and the community."),(0,t.yg)("ul",null,(0,t.yg)("li",{parentName:"ul"},"Add protocolpool keeper + store key in your app.go."),(0,t.yg)("li",{parentName:"ul"},"In your upgrade handler, ensure you add a store for protocolpooltypes.ModuleName. For example:")),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-go"},"storeUpgrades := storetypes.StoreUpgrades{\n    Added: []string{\n        protocolpooltypes.ModuleName,\n    },\n}\n")),(0,t.yg)("h3",{id:"proposal-handler-changes-in-xgov"},"Proposal Handler Changes in x/gov"),(0,t.yg)("p",null,"The proposal handler was updated away from ",(0,t.yg)("inlineCode",{parentName:"p"},"sdk.Context")," to ",(0,t.yg)("inlineCode",{parentName:"p"},"context.Context"),". This change is a prerequisite for upgrading to v2. Stay tuned for a separate document explaining how to migrate to v2. "),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-diff"},"- func ProposalHandler(_ sdk.Context, c Content) error {\n+ func ProposalHandler(_ context.Context, c Content) error {\n")),(0,t.yg)("h3",{id:"mint-function-updates-in-xmint"},"Mint Function Updates in x/mint"),(0,t.yg)("p",null,"The custom mint function allows teams to customize the minting logic for their chain. "),(0,t.yg)("ul",null,(0,t.yg)("li",{parentName:"ul"},"If you want a custom inflation function or rely on ",(0,t.yg)("inlineCode",{parentName:"li"},"x/mint"),", set the keeper\u2019s mint function explicitly if you do not use the default:")),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-go"},"mintKeeper.SetMintFn(keeper.DefaultMintFn(\n    types.DefaultInflationCalculationFn,\n    stakingKeeper,\n    mintKeeper,\n))\n")),(0,t.yg)("h3",{id:"add-xvalidate"},"Add x/validate"),(0,t.yg)("p",null,(0,t.yg)("inlineCode",{parentName:"p"},"x/validate")," is a module for antehandlers.  If you are using runtime/depinject or v2 this module is required. Skip this step or define your own custom ante/post handlers, see ",(0,t.yg)("inlineCode",{parentName:"p"},"x/validate")," documentation for more details."),(0,t.yg)("h3",{id:"remove-appmodulebasic"},"Remove AppmoduleBasic"),(0,t.yg)("p",null,"In 0.52, there is a single entry point for a module. The ",(0,t.yg)("inlineCode",{parentName:"p"},"appmodule")," is the single entry point. In order to make the necessary changes the appmodulebasic struct in the module.go should be merged with appmodule. "),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre",className:"language-diff"},"// AppModuleBasic defines the basic application module used by the bank module.\n- type AppModuleBasic struct {\n-   cdc codec.Codec\n-   ac  address.Codec\n- } \n\n// AppModule implements an application module for the bank module.\ntype AppModule struct {\n-    AppModuleBasic\n+   cdc codec.Codec\n\n    keeper        keeper.Keeper\n    accountKeeper types.AccountKeeper\n\n    // legacySubspace is used solely for migration of x/params managed parameters\n    legacySubspace exported.Subspace\n}\n\n// Name returns the bank module's name.\n- func (AppModuleBasic) Name() string { return types.ModuleName }\n+ func (AppModule) Name() string { return types.ModuleName }\n\n// RegisterLegacyAminoCodec registers the bank module's types on the LegacyAmino codec.\n- func (AppModuleBasic) RegisterLegacyAminoCodec(registrar registry.AminoRegistrar)  {\n+ func (AppModule) RegisterLegacyAminoCodec(registrar registry.AminoRegistrar)  {\n    types.RegisterLegacyAminoCodec(cdc)\n}\n\n// DefaultGenesis returns default genesis state as raw bytes for the bank\n// module.\n- func (AppModuleBasic) DefaultGenesis() json.RawMessage {\n+ func (am AppModule) DefaultGenesis() json.RawMessage {\n    return am.cdc.MustMarshalJSON(types.DefaultGenesisState())\n}\n\n// ValidateGenesis performs genesis state validation for the bank module.\n- func (AppModuleBasic) ValidateGenesis(cdc codec.JSONCodec, _ client.TxEncodingConfig, bz json.RawMessage) error {\n+ func (am AppModule) ValidateGenesis(bz json.RawMessage) error  {\n    var data types.GenesisState\n-   if err := cdc.UnmarshalJSON(bz, &data); err != nil {\n+   if err := am.cdc.UnmarshalJSON(bz, &data); err != nil {\n        return fmt.Errorf(\"failed to unmarshal %s genesis state: %w\", types.ModuleName, err)\n    }\n\n    return data.Validate()\n}\n\n// RegisterGRPCGatewayRoutes registers the gRPC Gateway routes for the bank module.\n- func (AppModuleBasic) RegisterGRPCGatewayRoutes(clientCtx client.Context, mux *gwruntime.ServeMux) {\n+ func (AppModule) RegisterGRPCGatewayRoutes(clientCtx client.Context, mux *gwruntime.ServeMux) {\n    if err := types.RegisterQueryHandlerClient(context.Background(), mux, types.NewQueryClient(clientCtx)); err != nil {\n        panic(err)\n    }\n}\n\n// GetTxCmd returns the root tx command for the bank module.\n- func (ab AppModuleBasic) GetTxCmd() *cobra.Command {\n+ func (ab AppModule) GetTxCmd() *cobra.Command {\n    return cli.NewTxCmd(ab.ac)\n}\n\n// RegisterInterfaces registers interfaces and implementations of the bank module.\n- func (AppModuleBasic) RegisterInterfaces(registry.InterfaceRegistrar) {\n+ func (AppModule) RegisterInterfaces(registry.InterfaceRegistrar) {\n    types.RegisterInterfaces(registry)\n\n    // Register legacy interfaces for migration scripts.\n    v1bank.RegisterInterfaces(registry)\n}\n")),(0,t.yg)("h2",{id:"preparing-the-upgrade-handler-on-chain"},"Preparing the Upgrade Handler (On-Chain)"),(0,t.yg)("p",null,"If your chain uses ",(0,t.yg)("inlineCode",{parentName:"p"},"x/upgrade")," to do in-place upgrades:"),(0,t.yg)("pre",null,(0,t.yg)("code",{parentName:"pre"},'1.  Create a new upgrade name (e.g. v0.52).\n2.  Register the upgrade handler in app.go:\n    ```go\n    func (app *MyApp) RegisterUpgradeHandlers() {\n        app.UpgradeKeeper.SetUpgradeHandler(\n            "v0.52",\n            func(ctx sdk.Context, plan upgradetypes.Plan, vm module.VersionMap) (module.VersionMap, error) {\n                // Run any store migrations needed (e.g. add "protocolpool" store)\n                storeUpgrades := storetypes.StoreUpgrades{\n                    Added: []string{protocolpooltypes.ModuleName},\n                }\n                // ...\n                // Then run the module migrations\n                return app.ModuleManager.RunMigrations(ctx, app.Configurator(), vm)\n            },\n        )\n    }\n    ```\n3.  Set the upgrade in your governance proposal or simply do a manual upgrade (depending on your chain\u2019s process).\n4.  On reaching the plan\u2019s height, your node will run the above logic, adding store keys, migrating accounts, etc.\n')),(0,t.yg)("p",null,"If your chain is small or you do not rely on x/upgrade, you can do a chain halt and manual restart with the new binary after updating your genesis (if needed)."),(0,t.yg)("h2",{id:"testing--verifying-the-upgrade"},"Testing & Verifying the Upgrade"),(0,t.yg)("ol",null,(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("p",{parentName:"li"},"Local test"),(0,t.yg)("ul",{parentName:"li"},(0,t.yg)("li",{parentName:"ul"},"Spin up a local one-node testnet."),(0,t.yg)("li",{parentName:"ul"},"Import or create some sample data."),(0,t.yg)("li",{parentName:"ul"},"Execute the upgrade at a known block height."),(0,t.yg)("li",{parentName:"ul"},"Validate that the chain restarts and that the new features (like x/accounts or x/protocolpool) function correctly."))),(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("p",{parentName:"li"},"Integration test"),(0,t.yg)("ul",{parentName:"li"},(0,t.yg)("li",{parentName:"ul"},"If you have a continuous integration (CI) environment, update your go.mod and run all tests."))),(0,t.yg)("li",{parentName:"ol"},(0,t.yg)("p",{parentName:"li"},"Public testnet"),(0,t.yg)("ul",{parentName:"li"},(0,t.yg)("li",{parentName:"ul"},"Run a short-lived testnet with the new binary, replicate production environment if possible.")))),(0,t.yg)("h2",{id:"conclusion"},"Conclusion"),(0,t.yg)("p",null,"Upgrading from Cosmos SDK v0.50 to v0.52 involves a number of structural and conceptual changes. The major points are:\n\u2022\tRemoving x/params for new parameter management,\n\u2022\tRefactoring module imports to cosmossdk.io/x/...,\n\u2022\tAdopting the new environment approach in modules and code,\n\u2022\tHandling new or removed modules like x/crisis (removed), x/protocolpool (added), and x/accounts,\n\u2022\tAdjusting any custom logic around vesting, ante handlers, simulation, and Protobuf interfaces."),(0,t.yg)("p",null,"Once completed, your chain will align with the latest design of the Cosmos SDK and be ready to take advantage of new features like unordered transactions, improved parameter management, and a more flexible environment-based architecture."),(0,t.yg)("p",null,"Good luck with your upgrade! If you run into any issues, check the official Cosmos SDK release notes or ask for help in the Cosmos SDK community channels."))}c.isMDXComponent=!0}}]);