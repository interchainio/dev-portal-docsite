"use strict";(self.webpackChunkdev_portal_docsite=self.webpackChunkdev_portal_docsite||[]).push([[26111],{15680:(e,t,n)=>{n.d(t,{xA:()=>p,yg:()=>g});var a=n(96540);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=a.createContext({}),c=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},p=function(e){var t=c(e.components);return a.createElement(s.Provider,{value:t},e.children)},u="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),u=c(n),d=r,g=u["".concat(s,".").concat(d)]||u[d]||m[d]||i;return n?a.createElement(g,o(o({ref:t},p),{},{components:n})):a.createElement(g,o({ref:t},p))}));function g(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,o=new Array(i);o[0]=d;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[u]="string"==typeof e?e:r,o[1]=l;for(var c=2;c<i;c++)o[c]=n[c];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},90426:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>o,default:()=>m,frontMatter:()=>i,metadata:()=>l,toc:()=>c});var a=n(58168),r=(n(96540),n(15680));const i={title:"Client",sidebar_label:"Client",sidebar_position:9,slug:"/apps/transfer/client"},o="Client",l={unversionedId:"docs/apps/transfer/client",id:"docs/apps/transfer/client",title:"Client",description:"CLI",source:"@site/ibc-go/docs/02-apps/01-transfer/09-client.md",sourceDirName:"docs/02-apps/01-transfer",slug:"/apps/transfer/client",permalink:"/dev-portal-docsite/ibc-go/next/apps/transfer/client",draft:!1,tags:[],version:"current",sidebarPosition:9,frontMatter:{title:"Client",sidebar_label:"Client",sidebar_position:9,slug:"/apps/transfer/client"},sidebar:"defaultSidebar",previous:{title:"Authorizations",permalink:"/dev-portal-docsite/ibc-go/next/apps/transfer/authorizations"},next:{title:"Overview",permalink:"/dev-portal-docsite/ibc-go/next/apps/transfer/ics20-v1/overview"}},s={},c=[{value:"CLI",id:"cli",level:2},{value:"Query",id:"query",level:3},{value:"Transactions",id:"transactions",level:4},{value:"<code>transfer</code>",id:"transfer",level:4},{value:"<code>total-escrow</code>",id:"total-escrow",level:4},{value:"gRPC",id:"grpc",level:2},{value:"<code>TotalEscrowForDenom</code>",id:"totalescrowfordenom",level:3}],p={toc:c},u="wrapper";function m(e){let{components:t,...n}=e;return(0,r.yg)(u,(0,a.A)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,r.yg)("h1",{id:"client"},"Client"),(0,r.yg)("h2",{id:"cli"},"CLI"),(0,r.yg)("p",null,"A user can query and interact with the ",(0,r.yg)("inlineCode",{parentName:"p"},"transfer")," module using the CLI. Use the ",(0,r.yg)("inlineCode",{parentName:"p"},"--help")," flag to discover the available commands:"),(0,r.yg)("h3",{id:"query"},"Query"),(0,r.yg)("p",null,"The ",(0,r.yg)("inlineCode",{parentName:"p"},"query")," commands allow users to query ",(0,r.yg)("inlineCode",{parentName:"p"},"transfer")," state."),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-shell"},"simd query ibc-transfer --help\n")),(0,r.yg)("h4",{id:"transactions"},"Transactions"),(0,r.yg)("p",null,"The ",(0,r.yg)("inlineCode",{parentName:"p"},"tx")," commands allow users to interact with the controller submodule."),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-shell"},"simd tx ibc-transfer --help\n")),(0,r.yg)("h4",{id:"transfer"},(0,r.yg)("inlineCode",{parentName:"h4"},"transfer")),(0,r.yg)("p",null,"The ",(0,r.yg)("inlineCode",{parentName:"p"},"transfer")," command allows users to execute cross-chain token transfers from the source port ID and channel ID on the sending chain."),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-shell"},"simd tx ibc-transfer transfer [src-port] [src-channel] [receiver] [coins] [flags]\n")),(0,r.yg)("p",null,"Multiple tokens can be transferred on the same transaction by specifying a comma-separated list\nof amount and denomination (e.g. ",(0,r.yg)("inlineCode",{parentName:"p"},"100uatom,100uosmo"),") in the ",(0,r.yg)("inlineCode",{parentName:"p"},"coins")," option."),(0,r.yg)("p",null,"The additional flags that can be used with the command are:"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"--packet-timeout-height")," to specify the timeout block height in the format ",(0,r.yg)("inlineCode",{parentName:"li"},"{revision}-{height}"),". The default value is ",(0,r.yg)("inlineCode",{parentName:"li"},"0-0"),", which effectively disables the timeout. Timeout height can only be absolute, therefore this option must be used in combination with ",(0,r.yg)("inlineCode",{parentName:"li"},"--absolute-timeouts")," set to true."),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"--packet-timeout-timestamp")," to specify the timeout timestamp in nanoseconds. The timeout can be either relative (from the current UTC time) or absolute. The default value is 10 minutes (and thus relative). The timeout is disabled when set to 0."),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"--absolute-timeouts")," to interpret the timeout timestamp as an absolute value (when set to true). The default value is false (and thus the timeout is considered relative to current UTC time)."),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"--memo")," to specify the memo string to be sent along with the transfer packet. If forwarding is used, then the memo string will be carried through the intermediary chains to the final destination."),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"--forwarding")," to specify forwarding information in the form of a comma separated list of source port ID/channel ID pairs at each intermediary chain (e.g. ",(0,r.yg)("inlineCode",{parentName:"li"},"transfer/channel-0,transfer/channel-1"),")."),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"--unwind")," to specify if the tokens must be automatically unwound to there origin chain. This option can be used in combination with ",(0,r.yg)("inlineCode",{parentName:"li"},"--forwarding")," to forward the tokens to the final destination after unwinding. When this flag is true, the tokens specified in the ",(0,r.yg)("inlineCode",{parentName:"li"},"coins")," option must all have the same denomination trace path (i.e. all tokens must be IBC vouchers sharing exactly the same set of destination port/channel IDs in their denomination trace path). Arguments ",(0,r.yg)("inlineCode",{parentName:"li"},"[src-port]")," and  ",(0,r.yg)("inlineCode",{parentName:"li"},"[src-channel]")," must not be passed if the ",(0,r.yg)("inlineCode",{parentName:"li"},"--unwind")," flag is specified.")),(0,r.yg)("h4",{id:"total-escrow"},(0,r.yg)("inlineCode",{parentName:"h4"},"total-escrow")),(0,r.yg)("p",null,"The ",(0,r.yg)("inlineCode",{parentName:"p"},"total-escrow")," command allows users to query the total amount in escrow for a particular coin denomination regardless of the transfer channel from where the coins were sent out."),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-shell"},"simd query ibc-transfer total-escrow [denom] [flags]\n")),(0,r.yg)("p",null,"Example:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-shell"},"simd query ibc-transfer total-escrow samoleans\n")),(0,r.yg)("p",null,"Example Output:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-shell"},'amount: "100"\n')),(0,r.yg)("h2",{id:"grpc"},"gRPC"),(0,r.yg)("p",null,"A user can query the ",(0,r.yg)("inlineCode",{parentName:"p"},"transfer")," module using gRPC endpoints."),(0,r.yg)("h3",{id:"totalescrowfordenom"},(0,r.yg)("inlineCode",{parentName:"h3"},"TotalEscrowForDenom")),(0,r.yg)("p",null,"The ",(0,r.yg)("inlineCode",{parentName:"p"},"TotalEscrowForDenom")," endpoint allows users to query the total amount in escrow for a particular coin denomination regardless of the transfer channel from where the coins were sent out."),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-shell"},"ibc.applications.transfer.v1.Query/TotalEscrowForDenom\n")),(0,r.yg)("p",null,"Example:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-shell"},'grpcurl -plaintext \\\n  -d \'{"denom":"samoleans"}\' \\\n  localhost:9090 \\\n  ibc.applications.transfer.v1.Query/TotalEscrowForDenom\n')),(0,r.yg)("p",null,"Example output:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-shell"},'{\n  "amount": "100"\n}\n')))}m.isMDXComponent=!0}}]);